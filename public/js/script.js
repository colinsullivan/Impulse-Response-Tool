// Generated by CoffeeScript 1.3.1
(function() {

  $(document).ready(function() {
    var audioCtx, xhr;
    audioCtx = new webkitAudioContext();
    xhr = new XMLHttpRequest();
    xhr.open("GET", "/audio/Air_EndingKeys.wav", true);
    xhr.responseType = "arraybuffer";
    xhr.onload = function(e) {
      var canvasElement, irBuf, waveformRenderer;
      irBuf = audioCtx.createBuffer(xhr.response, false);
      canvasElement = document.getElementById("waveform");
      return waveformRenderer = new audioOnCanvas.SpectrumRenderer({
        canvasElement: canvasElement,
        buffer: irBuf
      });
    };
    return xhr.send();
  });

}).call(this);
